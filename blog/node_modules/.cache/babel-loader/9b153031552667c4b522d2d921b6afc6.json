{"ast":null,"code":"var _jsxFileName = \"D:\\\\React\\\\Django-Rest-Framework\\\\blog\\\\src\\\\Components\\\\Page.js\";\nimport React, { Component } from 'react';\nimport axios from '../axios';\nimport Spinner from './Spinner/Spinner';\nimport { withRouter } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Page extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      post: []\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('access_token') == null) {\n      this.props.history.push('/login');\n    }\n\n    axios.get('post').then(response => {\n      this.setState({\n        loading: false,\n        post: response.data\n      }); // console.log(response.data)\n    });\n  }\n\n  PostShowHandler(id) {\n    this.props.history.push('/' + id);\n  }\n\n  render() {\n    let post;\n\n    if (this.state.loading) {\n      post = /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 14\n      }, this);\n    } else {\n      post = this.state.post.map(data => {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.PostShowHandler(data.id),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: data.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this);\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: post\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Page);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["D:/React/Django-Rest-Framework/blog/src/Components/Page.js"],"names":["React","Component","axios","Spinner","withRouter","Page","state","loading","post","componentDidMount","localStorage","getItem","props","history","push","get","then","response","setState","data","PostShowHandler","id","render","map","title"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAAQC,UAAR,QAAyB,cAAzB;;;AACA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA4B;AAAA;AAAA;AAAA,SAE1BK,KAF0B,GAElB;AACNC,MAAAA,OAAO,EAAC,IADF;AAENC,MAAAA,IAAI,EAAC;AAFC,KAFkB;AAAA;;AAO1BC,EAAAA,iBAAiB,GAAE;AACjB,QAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,KAAwC,IAA3C,EAAgD;AAC9C,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;;AACDZ,IAAAA,KAAK,CAACa,GAAN,CAAU,MAAV,EAAkBC,IAAlB,CAAuBC,QAAQ,IAAE;AAC/B,WAAKC,QAAL,CAAc;AACZX,QAAAA,OAAO,EAAC,KADI;AAEZC,QAAAA,IAAI,EAACS,QAAQ,CAACE;AAFF,OAAd,EAD+B,CAK/B;AACD,KAND;AAOD;;AAEDC,EAAAA,eAAe,CAACC,EAAD,EAAI;AACjB,SAAKT,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,MAAMO,EAA9B;AACD;;AAGDC,EAAAA,MAAM,GAAE;AACN,QAAId,IAAJ;;AAEA,QAAG,KAAKF,KAAL,CAAWC,OAAd,EAAsB;AACpBC,MAAAA,IAAI,gBAAG,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAGI;AACFA,MAAAA,IAAI,GAAG,KAAKF,KAAL,CAAWE,IAAX,CAAgBe,GAAhB,CAAoBJ,IAAI,IAAE;AAC/B,4BACE;AAAQ,UAAA,OAAO,EAAE,MAAM,KAAKC,eAAL,CAAqBD,IAAI,CAACE,EAA1B,CAAvB;AAAA,iCACI;AAAA,sBAAIF,IAAI,CAACK;AAAT;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADF;AAKD,OANM,CAAP;AAOD;;AACD,wBACE;AAAA,6BACE;AAAA,kBACKhB;AADL;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAOD;;AA/CyB;;AAkD5B,oBAAeJ,UAAU,CAACC,IAAD,CAAzB","sourcesContent":["import React,{Component} from 'react';\r\nimport axios from '../axios';\r\nimport Spinner from './Spinner/Spinner';\r\nimport {withRouter} from 'react-router'\r\nclass Page extends Component{\r\n\r\n  state = {\r\n    loading:true,\r\n    post:[]\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('access_token') == null){\r\n      this.props.history.push('/login');\r\n    }\r\n    axios.get('post').then(response=>{\r\n      this.setState({\r\n        loading:false,\r\n        post:response.data\r\n      });\r\n      // console.log(response.data)\r\n    })\r\n  }\r\n\r\n  PostShowHandler(id){\r\n    this.props.history.push('/' + id);\r\n  }\r\n\r\n\r\n  render(){\r\n    let post;\r\n\r\n    if(this.state.loading){\r\n      post = <Spinner/>\r\n    }\r\n    else{\r\n      post = this.state.post.map(data=>{\r\n        return(\r\n          <button onClick={() => this.PostShowHandler(data.id)}>\r\n              <a>{data.title}</a>\r\n          </button>\r\n        );\r\n      })\r\n    }\r\n    return (\r\n      <div>\r\n        <div>\r\n            {post}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n"]},"metadata":{},"sourceType":"module"}